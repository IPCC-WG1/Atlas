# Code for the reproducibility of the Atlas products

This repository contains all the code needed to reproduce the products (NetCDF4 files, NcMLs and figures) generated by the ATLAS chapter for inclusion in the Second Order Draft (SOD) of the IPCC-AR6, compiled in February 2020. For simplicity, the full workflow is split up in four main scripts which undertake independent tasks. In a nutshell:

* "script1_index_calculation.R" computes a number of climate indices (see the table included in the own script) from CMIP5 (and/or CMIP6) model outputs. Due to the particularities of some of the indices available, two more companion scripts are also delivered: "script1_index_calculation_SPI.R" and "script1_index_calculation_bias_corrected.R". Whereas the former must be used only to compute the SPI6 and SPI12, the latter should be used for those indices which are based on absolute thresholds (e.g. TX35 or TX40).
* "script2_interpolation.R" interpolates the NetCDF4 files produced by "script1_index_calculation.R" using a Conservative Remapping approach. The folder called *bash-interpolation-scripts* contains some bash scripts required by "script2_interpolation.R".
* "script3_ensemble_building.R" creates a multi-model ensemble building on the interpolated products generated by "script2_interpolation.R". For convenience, it returns NcMLs.
* "script4_map_figures.R" generates the final figures (maps) from the NcMLs created returned by "script3_ensemble_building.R"

Obviously, these four scripts must be run in the above order.



