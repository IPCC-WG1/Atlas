# Code for reproducibility of the Interactive Atlas Dataset

This repository contains all the code needed to generate the intermediate dataset (Interactive Atlas Dataset) used in the Interactive Atlas (November 2020 version). For simplicity, the full workflow is split up in four main scripts which undertake independent tasks. In a nutshell:

* `01_index_calculation.R` computes a number of climate indices (see the table included in the own script) from CMIP5 (and/or CMIP6) model outputs. Due to the particularities of some of the indices available, two more companion scripts are also delivered: `01_index_calculation_SPI.R` and `01_index_calculation_bias_corrected.R`. Whereas the former is thought for SPI6 and SPI12, the latter should be used for those indices which are based on absolute thresholds (e.g. TX35 or TX40).
* `02_interpolation.R` interpolates the outputs (NetCDF files) produced by `01_index_calculation.R` using the Conservative Remapping approach used in EURO-CORDEX. The folder called *bash-interpolation-scripts* contains some bash scripts which are required by `02_interpolation.R`.
* `03_ensemble_building.R` creates a multi-model ensemble building on the interpolated information generated by `02_interpolation.R`, returning NcML files.
* `04_map_figures.R` generates the final figures (maps) from the NcMLs returned by `03_ensemble_building.R`.

Please be aware that these four scripts must be run in the above order. All of them build upon the [climate4R framework](https://github.com/SantanderMetGroup/climate4R).
